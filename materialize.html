<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <style>
        .expense-card {
            margin-bottom: 10px;
        }
        .income { border-left: 5px solid #4caf50; }
        .expense { border-left: 5px solid #f44336; }
        .balance-positive { color: #4caf50; }
        .balance-negative { color: #f44336; }
        .category-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin-right: 15px;
        }
        .food { background-color: #ff9800; }
        .transport { background-color: #2196f3; }
        .entertainment { background-color: #9c27b0; }
        .utilities { background-color: #607d8b; }
        .shopping { background-color: #e91e63; }
        .salary { background-color: #4caf50; }
        .other { background-color: #795548; }
    </style>
</head>
<body class="grey lighten-4">
    
    <nav class="teal darken-2">
        <div class="nav-wrapper container">
            <a href="#" class="brand-logo">
                <i class="material-icons left">account_balance_wallet</i>
                Expense Tracker
            </a>
        </div>
    </nav>

    <div class="container">
        
        <div class="row" style="margin-top: 20px;">
            <div class="col s12 m4">
                <div class="card-panel green lighten-4 center">
                    <h5 class="green-text">Total Income</h5>
                    <h4 id="totalIncome">$0.00</h4>
                </div>
            </div>
            <div class="col s12 m4">
                <div class="card-panel red lighten-4 center">
                    <h5 class="red-text">Total Expenses</h5>
                    <h4 id="totalExpenses">$0.00</h4>
                </div>
            </div>
            <div class="col s12 m4">
                <div class="card-panel blue lighten-4 center">
                    <h5 class="blue-text">Balance</h5>
                    <h4 id="balance">$0.00</h4>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">
                            <i class="material-icons left">add_circle</i>
                            Add Transaction
                        </span>
                        
                        <div class="row">
                            <div class="input-field col s12 m6">
                                <input id="description" type="text" class="validate">
                                <label for="description">Description</label>
                            </div>
                            <div class="input-field col s12 m6">
                                <input id="amount" type="number" step="0.01" class="validate">
                                <label for="amount">Amount</label>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="input-field col s12 m6">
                                <select id="type">
                                    <option value="" disabled selected>Choose transaction type</option>
                                    <option value="income">Income</option>
                                    <option value="expense">Expense</option>
                                </select>
                                <label>Type</label>
                            </div>
                            <div class="input-field col s12 m6">
                                <select id="category">
                                    <option value="" disabled selected>Choose category</option>
                                    <option value="food">Food & Dining</option>
                                    <option value="transport">Transportation</option>
                                    <option value="entertainment">Entertainment</option>
                                    <option value="utilities">Utilities</option>
                                    <option value="shopping">Shopping</option>
                                    <option value="salary">Salary</option>
                                    <option value="other">Other</option>
                                </select>
                                <label>Category</label>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="date" type="date" class="validate">
                                <label for="date">Date</label>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col s12">
                                <button class="btn waves-effect waves-light teal" onclick="addTransaction()">
                                    <i class="material-icons left">add</i>
                                    Add Transaction
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">
                            <i class="material-icons left">filter_list</i>
                            Filter Transactions
                        </span>
                        
                        <div class="row">
                            <div class="input-field col s12 m4">
                                <select id="filterType" onchange="filterTransactions()">
                                    <option value="all">All Types</option>
                                    <option value="income">Income Only</option>
                                    <option value="expense">Expenses Only</option>
                                </select>
                                <label>Filter by Type</label>
                            </div>
                            <div class="input-field col s12 m4">
                                <select id="filterCategory" onchange="filterTransactions()">
                                    <option value="all">All Categories</option>
                                    <option value="food">Food & Dining</option>
                                    <option value="transport">Transportation</option>
                                    <option value="entertainment">Entertainment</option>
                                    <option value="utilities">Utilities</option>
                                    <option value="shopping">Shopping</option>
                                    <option value="salary">Salary</option>
                                    <option value="other">Other</option>
                                </select>
                                <label>Filter by Category</label>
                            </div>
                            <div class="input-field col s12 m4">
                                <input type="text" id="searchInput" onkeyup="filterTransactions()" placeholder="Search transactions...">
                                <label for="searchInput">Search</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    
        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">
                            <i class="material-icons left">list</i>
                            Recent Transactions
                        </span>
                        <div id="transactionsList">
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        let transactions = [];

        
        document.addEventListener('DOMContentLoaded', function() {
            var selects = document.querySelectorAll('select');
            M.FormSelect.init(selects);
            
            
            document.getElementById('date').value = new Date().toISOString().split('T')[0];
        });

        function addTransaction() {
            const description = document.getElementById('description').value.trim();
            const amount = parseFloat(document.getElementById('amount').value);
            const type = document.getElementById('type').value;
            const category = document.getElementById('category').value;
            const date = document.getElementById('date').value;

            if (description && amount && type && category && date) {
                const transaction = {
                    id: Date.now(),
                    description,
                    amount,
                    type,
                    category,
                    date: new Date(date)
                };

                transactions.push(transaction);
                clearForm();
                displayTransactions();
                updateSummary();
                M.toast({html: 'Transaction added successfully!', classes: 'green'});
            } else {
                M.toast({html: 'Please fill in all fields!', classes: 'red'});
            }
        }

        function clearForm() {
            document.getElementById('description').value = '';
            document.getElementById('amount').value = '';
            document.getElementById('type').selectedIndex = 0;
            document.getElementById('category').selectedIndex = 0;
            
            var selects = document.querySelectorAll('select');
            M.FormSelect.init(selects);
        }

        function displayTransactions(transactionsToShow = transactions) {
            const container = document.getElementById('transactionsList');
            
            if (transactionsToShow.length === 0) {
                container.innerHTML = '<p class="center-align grey-text">No transactions found.</p>';
                return;
            }

            const sorted = [...transactionsToShow].sort((a, b) => new Date(b.date) - new Date(a.date));

            container.innerHTML = sorted.map(transaction => {
                const isIncome = transaction.type === 'income';
                const cardClass = isIncome ? 'income' : 'expense';
                const amountClass = isIncome ? 'green-text' : 'red-text';
                const amountPrefix = isIncome ? '+' : '-';
                
                return `
                    <div class="card expense-card ${cardClass}">
                        <div class="card-content">
                            <div class="row valign-wrapper" style="margin-bottom: 0;">
                                <div class="col s2 m1">
                                    <div class="category-icon ${transaction.category}">
                                        <i class="material-icons">${getCategoryIcon(transaction.category)}</i>
                                    </div>
                                </div>
                                <div class="col s6 m7">
                                    <h6 style="margin: 0;">${transaction.description}</h6>
                                    <p class="grey-text" style="margin: 0;">
                                        ${transaction.category} â€¢ ${transaction.date.toLocaleDateString()}
                                    </p>
                                </div>
                                <div class="col s3 m3 right-align">
                                    <h5 class="${amountClass}" style="margin: 0;">
                                        ${amountPrefix}$${transaction.amount.toFixed(2)}
                                    </h5>
                                </div>
                                <div class="col s1 m1 right-align">
                                    <a href="#" onclick="deleteTransaction(${transaction.id})" class="red-text">
                                        <i class="material-icons">delete</i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getCategoryIcon(category) {
            const icons = {
                food: 'restaurant',
                transport: 'directions_car',
                entertainment: 'movie',
                utilities: 'flash_on',
                shopping: 'shopping_cart',
                salary: 'work',
                other: 'category'
            };
            return icons[category] || 'category';
        }

        function updateSummary() {
            const income = transactions
                .filter(t => t.type === 'income')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const expenses = transactions
                .filter(t => t.type === 'expense')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const balance = income - expenses;

            document.getElementById('totalIncome').textContent = `$${income.toFixed(2)}`;
            document.getElementById('totalExpenses').textContent = `$${expenses.toFixed(2)}`;
            document.getElementById('balance').textContent = `$${balance.toFixed(2)}`;
            

            const balanceElement = document.getElementById('balance');
            balanceElement.className = balance >= 0 ? 'balance-positive' : 'balance-negative';
        }

        function deleteTransaction(id) {
            if (confirm('Are you sure you want to delete this transaction?')) {
                transactions = transactions.filter(t => t.id !== id);
                displayTransactions();
                updateSummary();
                M.toast({html: 'Transaction deleted!', classes: 'orange'});
            }
        }

        function filterTransactions() {
            const typeFilter = document.getElementById('filterType').value;
            const categoryFilter = document.getElementById('filterCategory').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();

            let filtered = transactions.filter(transaction => {
                const matchesType = typeFilter === 'all' || transaction.type === typeFilter;
                const matchesCategory = categoryFilter === 'all' || transaction.category === categoryFilter;
                const matchesSearch = transaction.description.toLowerCase().includes(searchTerm);
                
                return matchesType && matchesCategory && matchesSearch;
            });

            displayTransactions(filtered);
        }

        
        transactions = [
            {
                id: 1,
                description: "Salary",
                amount: 3000,
                type: "income",
                category: "salary",
                date: new Date()
            },
            {
                id: 2,
                description: "Grocery Shopping",
                amount: 150,
                type: "expense",
                category: "food",
                date: new Date()
            },
            {
                id: 3,
                description: "Gas Bill",
                amount: 80,
                type: "expense",
                category: "utilities",
                date: new Date()
            }
        ];

        displayTransactions();
        updateSummary();
    </script>
</body>
</html>
